(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},2474:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,8450,23)),Promise.resolve().then(n.t.bind(n,9229,23)),Promise.resolve().then(n.t.bind(n,347,23)),Promise.resolve().then(n.bind(n,5702))},5702:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});var r=n(5155),a=n(6766),i=n(2115);function s(e){let{stoneCount:t=10,imageUrls:n=[],minVelocity:s=.25,maxVelocity:l=1.5,margin:c=20,stoneSize:o=[30,100],bounceDelta:u=1.5,jitterDelta:h=.5}=e,d=(0,i.useRef)(null),[m,f]=(0,i.useState)([]),g=(0,i.useRef)([]),p=(0,i.useRef)(null),[v,b]=(0,i.useState)({width:0,height:0}),_=(0,i.useRef)(!1),x=n.length>=t?n:["/石頭/石頭1.png","/石頭/石頭2.png","/石頭/石頭3.png","/石頭/石頭4.png","/石頭/石頭5.png"];(0,i.useEffect)(()=>{let e=()=>{d.current&&b({width:d.current.offsetWidth,height:d.current.offsetHeight})};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),null!==p.current&&cancelAnimationFrame(p.current)}},[]),(0,i.useEffect)(()=>{if(v.width&&v.height&&!_.current){let e=[];for(let n=0;n<t;n++){let t=Math.random()*(o[1]-o[0])+o[0],r=2*Math.random()-1,a=2*Math.random()-1,i=Math.sqrt(r*r+a*a)||1,c=Math.random()*(l-s)+s;r=r/i*c,a=a/i*c,e.push({id:n,x:Math.random()*v.width,y:Math.random()*v.height,vx:r,vy:a,size:t,imageUrl:x[n%x.length],isInteracting:!1})}f(e),g.current=e,_.current=!0}},[v,t,x,l,s,o]),(0,i.useEffect)(()=>{if(!_.current||!v.width||!v.height)return;let e=()=>{let t=v.width,n=v.height;g.current=g.current.map(e=>{let r=e.x+e.vx,a=e.y+e.vy;return r<-e.size&&(r=t+e.size),r>t+e.size&&(r=-e.size),a<-e.size&&(a=n+e.size),a>n+e.size&&(a=-e.size),{...e,x:r,y:a}}),f([...g.current]),p.current=requestAnimationFrame(e)};return p.current=requestAnimationFrame(e),()=>{null!==p.current&&cancelAnimationFrame(p.current)}},[v]);let w=(e,t)=>{if(!d.current||!_.current)return;let n=!1,r=g.current.map((r,a)=>{let i=e-r.x,o=t-r.y,d=Math.sqrt(i*i+o*o);if(d<r.size/2+c&&!r.isInteracting){n=!0;let e=Math.random()-h,t=Math.random()*(l-s)+u,c=-(i/d)*t+e,m=-(o/d)*t+e,f=Math.sqrt(c**2+m**2)||1,p=c/f,v=m/f,b=c,_=m;return f<s?(b=p*s,_=v*s):f>l&&(b=p*l,_=v*l),setTimeout(()=>{g.current[a]&&(g.current[a].isInteracting=!1)},500),{...r,vx:b,vy:_,isInteracting:!0}}return r});n&&(g.current=r,f([...r]))};return(0,r.jsx)("div",{ref:d,className:"absolute inset-0 overflow-hidden bg-transparent pointer-events-none z-10",onMouseMove:e=>{let t=d.current.getBoundingClientRect();w(e.clientX-t.left,e.clientY-t.top)},onTouchStart:e=>{if(e.touches.length>0){let t=e.touches[0],n=d.current.getBoundingClientRect();w(t.clientX-n.left,t.clientY-n.top)}},children:m.map(e=>(0,r.jsx)("div",{className:"absolute",style:{left:"".concat(e.x,"px"),top:"".concat(e.y,"px"),transform:e.isInteracting?"translate(-50%, -50%) scale(1.1)":"translate(-50%, -50%) scale(1)",width:"".concat(e.size,"px"),height:"".concat(e.size,"px"),transition:"transform 0.3s ease",pointerEvents:"auto"},children:(0,r.jsx)(a.default,{src:e.imageUrl,alt:"Stone ".concat(e.id),className:"object-cover select-none",fill:!0,style:{transition:"filter 0.1s ease",filter:e.isInteracting?"brightness(0.8) hue-rotate(30deg)":"brightness(1)"}})},e.id))})}},8450:e=>{e.exports={style:{fontFamily:"'baunk', 'baunk Fallback'"},className:"__className_9031b3",variable:"__variable_9031b3"}},9229:e=>{e.exports={style:{fontFamily:"'Noto Sans TC', 'Noto Sans TC Fallback'",fontStyle:"normal"},className:"__className_31d49a",variable:"__variable_31d49a"}}},e=>{var t=t=>e(e.s=t);e.O(0,[574,56,690,766,441,684,358],()=>t(2474)),_N_E=e.O()}]);